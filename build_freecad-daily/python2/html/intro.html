<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &mdash; EgFreeCAD 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="EgFreeCAD 0.1 documentation" href="index.html" />
    <link rel="next" title="Primitive Examples" href="Primitives/index.html" />
    <link rel="prev" title="FreeCAD Scripting Examples" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Primitives/index.html" title="Primitive Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="FreeCAD Scripting Examples"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">EgFreeCAD 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<span id="index-0"></span><h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">Â¶</a></h1>
<p>To date, this document is focused mainly on the Part workbench and oriented toward
exercises I have gone through to design objects for 3D printing.</p>
<p>Several FreeCAD scripting examples are illustrated. Functions from a
module <a class="reference internal" href="Appendix.html#testEqual" title="testEqual"><code class="xref py py-mod docutils literal"><span class="pre">testEqual</span></code></a> are used to help verify that the examples work.
The verification is based on the observation that <code class="xref py py-obj docutils literal"><span class="pre">a.cut(b)</span></code>
and <code class="xref py py-obj docutils literal"><span class="pre">b.cut(a)</span></code> will both be empty if the objects are equal. Empty means
shapes with no Vertexes, Edges, Faces, ... , so equal is in the sense of defining
the same object in space, not in the sense of being similar python objects.
Based on this, scripts can be used to build an
object in different ways, and the results compared to ensure the different approaches
actually give the same object in space.</p>
<p>The test functions are documented in an appendix. The main test
function <code class="xref py py-obj docutils literal"><span class="pre">areEqual(a,b)</span></code> returns a boolean result.
Wrapper functions <a class="reference internal" href="Appendix.html#testEqual" title="testEqual"><code class="xref py py-func docutils literal"><span class="pre">testEqual()</span></code></a>  and  <a class="reference internal" href="Appendix.html#testNotEqual" title="testNotEqual"><code class="xref py py-func docutils literal"><span class="pre">testNotEqual()</span></code></a> provide a simpler
mechanism for running automatic checks.
They do not return a result, but raise an exception if the test fails.</p>
<p>One caveat in testing is that assignment in FreeCAD makes a new pointer to the same
object, so manipulation of a second object made this way will also alter the original.
That is</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">a</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">areEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>True
</pre></div>
</div>
<p>Returns <code class="xref py py-const docutils literal"><span class="pre">True</span></code> because the object pointed to by both <code class="xref py py-obj docutils literal"><span class="pre">a</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">b</span></code>
is translated, whereas</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">areEqual</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>False
</pre></div>
</div>
<p>Returns <code class="xref py py-const docutils literal"><span class="pre">False</span></code> because the translation of <code class="xref py py-obj docutils literal"><span class="pre">b</span></code>
does not affect <code class="xref py py-obj docutils literal"><span class="pre">a</span></code>.</p>
<p>Examples in this document can be run in a FreeCAD GUI session by cut-and-paste
into the console.
They can also be run in a python session after importing freecad.
To importing <code class="xref py py-mod docutils literal"><span class="pre">freecad</span></code> into a python session be sure to put it on
the python module search path, for example before starting python by using
<em>export PYTHONPATH=/usr/lib/freecad/lib:$PYTHONPATH</em>.</p>
<p>To run the tests in this document you will need to download (git clone)
EgFreeCAD and set the path of the <a class="reference internal" href="Appendix.html#testEqual" title="testEqual"><code class="xref py py-mod docutils literal"><span class="pre">testEqual</span></code></a> module
library. This can be done before starting python with
<em>export PYTHONPATH=/path/to/EgFreeCAD/lib:$PYTHONPATH</em>.
It can also be done inside a python session
using <code class="xref py py-obj docutils literal"><span class="pre">sys.path.append(&quot;/path/to/EgFreeCAD/lib&quot;)</span></code>.
The <a class="reference internal" href="Appendix.html#testEqual" title="testEqual"><code class="xref py py-mod docutils literal"><span class="pre">testEqual</span></code></a> module is not needed except to run tests, which are
mainly for the purpose of confirming that the examples in this document
continue to work in new FreeCAD versions.</p>
<p>The source files for sections of this document, available in the EgFreeCAD
github repository,  use Sphinx <code class="xref py py-obj docutils literal"><span class="pre">doctest</span></code>
and <code class="xref py py-obj docutils literal"><span class="pre">testcode</span></code> with <code class="xref py py-obj docutils literal"><span class="pre">testoutput</span></code> directives.
If there is any test output then it is displayed in a block below
the <code class="xref py py-obj docutils literal"><span class="pre">testcode</span></code>. All tests use the setup code specified in Sphinx
<code class="xref py py-obj docutils literal"><span class="pre">conf.py</span></code> <code class="xref py py-obj docutils literal"><span class="pre">doctest_global_setup</span></code> variable, which does</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Part</span>
<span class="kn">from</span> <span class="nn">FreeCAD</span> <span class="kn">import</span> <span class="n">Vector</span>
<span class="kn">from</span> <span class="nn">testEqual</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>and also sets vectors for the origin <code class="xref py py-obj docutils literal"><span class="pre">o</span></code> and points one unit in the
directions <code class="xref py py-obj docutils literal"><span class="pre">x,</span> <span class="pre">y</span></code>, and <code class="xref py py-obj docutils literal"><span class="pre">z</span></code>, which are used in several examples.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">o</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Be sure to set these in your session.
Some examples indicate <code class="xref py py-obj docutils literal"><span class="pre">Part.show(something)</span></code>. This command is
commented out and not run in the script tests but you may want to use it in
a FreeCAD GUI session. Beware that you may need to click the icon that
fits the contents to the screen.</p>
<p>The command  <code class="xref py py-obj docutils literal"><span class="pre">Part.show(something)</span></code> does two things. It opens a FreeCAD
document (<code class="xref py py-obj docutils literal"><span class="pre">App.ActiveDocument</span></code>) and it opens the GUI  window
and displays the object. There is a techincal sense in which <em>FreeCAD</em> is
the document and GUI. The examples here are really about the
building blocks in the workbench rather than the document and GUI.</p>
<p>Additional illustration of the testing functions is provided in the examples.
See especially <em>Primitives Examples / Box</em>.</p>
<p>Note that I have been constructing this document as a learning exercise
myself, so please do not hesitate to point out mistakes or interesting
additions. (Things do work because of the testing, but that does not mean
that I describe them properly.)</p>
<p>My learning draws heavily on explanations found elsewhere. See, for example,
<a class="reference external" href="https://www.freecadweb.org/wiki/FreeCAD_Scripting_Basics">https://www.freecadweb.org/wiki/FreeCAD_Scripting_Basics</a>,
<a class="reference external" href="https://www.freecadweb.org/wiki/Topological_data_scripting">https://www.freecadweb.org/wiki/Topological_data_scripting</a>,
and
<a class="reference external" href="https://www.freecadweb.org/wiki/Scripting_examples">https://www.freecadweb.org/wiki/Scripting_examples</a>. There are also a large
number of GUI based example. As a beginner I am finding two difficulties
that I am trying to overcome with this document.
The first is that the FreeCAD API is changing. This is necessary for evolving
software, but a result is that many examples on the Internet do not work as
illustrated or no longer work at all.
The generated confusion is often aggravated by the lack of version and system
detail in the examples and online documentation.  The main index page of this
document provides system detail and the module <a class="reference internal" href="Appendix.html#testEqual" title="testEqual"><code class="xref py py-mod docutils literal"><span class="pre">testEqual</span></code></a> along with
Sphinx doctest help ensure the examples continue to work with new
FreeCAD releases.
The second is that I like reproducibility so, rather the GUI interface, I
have focused on scripting which I know how to test and maintain.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">FreeCAD Scripting Examples</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Primitives/index.html"
                        title="next chapter">Primitive Examples</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/intro.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Primitives/index.html" title="Primitive Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="FreeCAD Scripting Examples"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">EgFreeCAD 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2018, 2019, Paul Gilbert.
      Last updated on May 21, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>